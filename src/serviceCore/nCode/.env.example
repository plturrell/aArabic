# nCode - Environment Configuration
# Copy this file to .env and customize for your environment
# Usage: cp .env.example .env

# ============================================================================
# nCode Server Configuration
# ============================================================================

# Server port (default: 18003)
NCODE_PORT=18003

# Log level: DEBUG, INFO, WARN, ERROR (default: INFO)
LOG_LEVEL=INFO

# ============================================================================
# Qdrant Configuration (Vector Search)
# ============================================================================

# Qdrant HTTP API port (default: 6333)
QDRANT_HTTP_PORT=6333

# Qdrant gRPC port (default: 6334)
QDRANT_GRPC_PORT=6334

# Qdrant host (default: localhost, use 'qdrant' in Docker Compose)
QDRANT_HOST=localhost

# ============================================================================
# Memgraph Configuration (Graph Database)
# ============================================================================

# Memgraph Bolt protocol port (default: 7687)
MEMGRAPH_BOLT_PORT=7687

# Memgraph Lab web interface port (default: 3000)
MEMGRAPH_WEB_PORT=3000

# Memgraph host (default: localhost, use 'memgraph' in Docker Compose)
MEMGRAPH_HOST=localhost

# ============================================================================
# Marquez Configuration (Lineage Tracking)
# ============================================================================

# Marquez API port (default: 5000)
MARQUEZ_PORT=5000

# Marquez web UI port (default: 3001)
MARQUEZ_WEB_PORT=3001

# Marquez API URL (default: http://localhost:5000)
MARQUEZ_URL=http://localhost:5000

# Marquez PostgreSQL database port (default: 5432)
MARQUEZ_DB_PORT=5432

# Marquez PostgreSQL password (change in production!)
MARQUEZ_DB_PASSWORD=marquez

# ============================================================================
# Development Settings
# ============================================================================

# Enable debug mode (increases logging verbosity)
DEBUG=false

# Enable development mode (hot reload, verbose errors)
DEV_MODE=false

# ============================================================================
# Production Settings
# ============================================================================

# Production environment flag
PRODUCTION=false

# API rate limiting (requests per minute)
RATE_LIMIT=1000

# Maximum concurrent connections
MAX_CONNECTIONS=100

# Request timeout (seconds)
REQUEST_TIMEOUT=30

# ============================================================================
# Security Settings (Production)
# ============================================================================

# API key for authenticated endpoints (set in production)
# API_KEY=your-secure-api-key-here

# CORS allowed origins (comma-separated)
# CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# Enable HTTPS (requires SSL certificates)
# ENABLE_HTTPS=false
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# ============================================================================
# Resource Limits
# ============================================================================

# Maximum index size (MB)
MAX_INDEX_SIZE_MB=1000

# Maximum symbols per project
MAX_SYMBOLS_PER_PROJECT=100000

# Database connection pool size
DB_POOL_SIZE=10

# Query timeout (seconds)
QUERY_TIMEOUT=30

# ============================================================================
# Backup Configuration
# ============================================================================

# Backup directory path
BACKUP_DIR=./backups

# Backup retention days
BACKUP_RETENTION_DAYS=7

# Enable automatic backups
AUTO_BACKUP=false

# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"

# ============================================================================
# Monitoring & Observability
# ============================================================================

# Enable Prometheus metrics endpoint
ENABLE_METRICS=true

# Metrics port (default: same as NCODE_PORT)
# METRICS_PORT=18003

# Enable structured JSON logging
ENABLE_JSON_LOGGING=true

# Log file path
LOG_FILE_PATH=./logs/ncode.log

# Enable performance profiling
ENABLE_PROFILING=false

# ============================================================================
# Feature Flags
# ============================================================================

# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable caching
ENABLE_CACHE=true

# Cache TTL (seconds)
CACHE_TTL=3600

# Enable async processing
ENABLE_ASYNC=true

# ============================================================================
# Docker Compose Overrides
# ============================================================================

# Compose project name (overrides directory name)
COMPOSE_PROJECT_NAME=ncode

# Docker Compose file (default: docker-compose.yml)
# COMPOSE_FILE=docker-compose.yml:docker-compose.override.yml
