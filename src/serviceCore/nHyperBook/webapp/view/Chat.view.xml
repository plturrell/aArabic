<mvc:View
    controllerName="hypershimmy.controller.Chat"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.f">
    
    <Page
        id="chat"
        title="{i18n>chatTitle}"
        showNavButton="true"
        navButtonPress=".onNavBack">
        
        <headerContent>
            <Button
                icon="sap-icon://refresh"
                tooltip="{i18n>chatClearButton}"
                press=".onClearChat"/>
        </headerContent>
        
        <content>
            <VBox class="hypershimmyChat" height="100%">
                <!-- Chat messages area -->
                <ScrollContainer
                    id="chatMessagesContainer"
                    height="100%"
                    width="100%"
                    vertical="true"
                    class="sapUiSmallMargin">
                    
                    <VBox id="chatMessages" class="chatMessages">
                        <!-- Messages will be dynamically added here -->
                        <VBox visible="{= ${appState>/chatHistory}.length === 0 }"
                              alignItems="Center"
                              justifyContent="Center"
                              class="sapUiLargeMarginTop">
                            <Title
                                text="{i18n>chatWelcomeTitle}"
                                class="sapUiSmallMarginBottom"/>
                            <Text
                                text="{i18n>chatWelcomeText}"
                                class="sapUiTinyMarginBottom"/>
                        </VBox>
                    </VBox>
                </ScrollContainer>
                
                <!-- Input area -->
                <Toolbar class="chatInputToolbar">
                    <Input
                        id="chatInput"
                        placeholder="{i18n>chatInputPlaceholder}"
                        value="{appState>/currentMessage}"
                        submit=".onSendMessage"
                        width="100%"
                        enabled="{= !${appState>/busy} }"/>
                    <Button
                        icon="sap-icon://paper-plane"
                        type="Emphasized"
                        press=".onSendMessage"
                        enabled="{= !${appState>/busy} &amp;&amp; ${appState>/currentMessage}.length > 0 }"/>
                </Toolbar>
            </VBox>
        </content>
    </Page>
    
</mvc:View>
