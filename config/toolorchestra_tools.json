{
  "tools": [
    {
      "name": "scip_index_code",
      "description": "Index vendor code using SCIP (Source Code Intelligence Protocol) to create semantic code graphs. Supports Rust, TypeScript, and Python projects.",
      "parameters": {
        "type": "object",
        "properties": {
          "project_path": {
            "type": "string",
            "description": "Path to the vendor project to index (e.g., 'vendor/layerIntelligence/hyperbooklm')"
          },
          "language": {
            "type": "string",
            "enum": ["rust", "typescript", "python"],
            "description": "Programming language of the project"
          },
          "output_name": {
            "type": "string",
            "description": "Optional name for the output SCIP index file"
          }
        },
        "required": ["project_path", "language"]
      },
      "endpoint": "http://localhost:8008/index/{language}",
      "method": "POST"
    },
    {
      "name": "ncode_find_references",
      "description": "Find all references to a symbol in the codebase using SCIP-based code intelligence.",
      "parameters": {
        "type": "object",
        "properties": {
          "symbol": {
            "type": "string",
            "description": "Symbol name to find references for"
          },
          "file": {
            "type": "string",
            "description": "File path (alternative to symbol - find symbol at position)"
          },
          "line": {
            "type": "integer",
            "description": "Line number (0-indexed, used with file)"
          },
          "character": {
            "type": "integer",
            "description": "Character offset (0-indexed, used with file)"
          }
        },
        "required": []
      },
      "endpoint": "http://localhost:18003/v1/references",
      "method": "POST"
    },
    {
      "name": "ncode_find_definition",
      "description": "Find the definition of a symbol at a given position in the codebase.",
      "parameters": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "description": "File path"
          },
          "line": {
            "type": "integer",
            "description": "Line number (0-indexed)"
          },
          "character": {
            "type": "integer",
            "description": "Character offset (0-indexed)"
          }
        },
        "required": ["file", "line", "character"]
      },
      "endpoint": "http://localhost:18003/v1/definition",
      "method": "POST"
    },
    {
      "name": "ncode_hover",
      "description": "Get hover information (documentation, type) for a symbol at a given position.",
      "parameters": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "description": "File path"
          },
          "line": {
            "type": "integer",
            "description": "Line number (0-indexed)"
          },
          "character": {
            "type": "integer",
            "description": "Character offset (0-indexed)"
          }
        },
        "required": ["file", "line", "character"]
      },
      "endpoint": "http://localhost:18003/v1/hover",
      "method": "POST"
    },
    {
      "name": "ncode_list_symbols",
      "description": "List all symbols (functions, classes, variables) in a given file.",
      "parameters": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "description": "File path to list symbols from"
          }
        },
        "required": ["file"]
      },
      "endpoint": "http://localhost:18003/v1/symbols",
      "method": "POST"
    },
    {
      "name": "ncode_document_symbols",
      "description": "Get document outline showing hierarchical symbol structure (classes containing methods, etc.).",
      "parameters": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "description": "File path to get document symbols from"
          }
        },
        "required": ["file"]
      },
      "endpoint": "http://localhost:18003/v1/document-symbols",
      "method": "POST"
    },
    {
      "name": "ncode_load_index",
      "description": "Load a SCIP index file into nCode server for querying. Must be done before using other nCode operations.",
      "parameters": {
        "type": "object",
        "properties": {
          "index_path": {
            "type": "string",
            "description": "Path to SCIP index file (e.g., 'index.scip')"
          }
        },
        "required": ["index_path"]
      },
      "endpoint": "http://localhost:18003/v1/index/load",
      "method": "POST"
    },
    {
      "name": "ncode_health_check",
      "description": "Check nCode server health, get status, version, and loaded index information.",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "endpoint": "http://localhost:18003/health",
      "method": "GET"
    },
    {
      "name": "ncode_semantic_search",
      "description": "Search code semantically using Qdrant vector database. Find code by meaning, not just text matching.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Natural language query describing what to search for"
          },
          "collection": {
            "type": "string",
            "description": "Qdrant collection name",
            "default": "code_symbols"
          },
          "limit": {
            "type": "integer",
            "description": "Number of results to return",
            "default": 10
          },
          "filter_language": {
            "type": "string",
            "description": "Filter by programming language (e.g., 'typescript', 'python', 'rust')"
          },
          "filter_kind": {
            "type": "string",
            "description": "Filter by symbol kind (e.g., 'function', 'class', 'variable')"
          }
        },
        "required": ["query"]
      },
      "endpoint": "http://localhost:6333/collections/{collection}/points/search",
      "method": "POST",
      "preprocessing": "embed_query"
    },
    {
      "name": "ncode_graph_query",
      "description": "Query code relationships using Memgraph. Find call chains, dependencies, and code structure.",
      "parameters": {
        "type": "object",
        "properties": {
          "query_type": {
            "type": "string",
            "enum": ["find_callers", "find_callees", "find_dependencies", "custom"],
            "description": "Type of graph query to perform"
          },
          "symbol_name": {
            "type": "string",
            "description": "Symbol name to query (for find_callers, find_callees)"
          },
          "cypher_query": {
            "type": "string",
            "description": "Custom Cypher query (when query_type is 'custom')"
          },
          "depth": {
            "type": "integer",
            "description": "Depth of traversal for transitive queries",
            "default": 1
          }
        },
        "required": ["query_type"]
      },
      "protocol": "mcp",
      "mcp_server": "mcp-memgraph",
      "connection": {
        "uri": "bolt://localhost:7687",
        "username": "",
        "password": ""
      }
    },
    {
      "name": "ncode_track_lineage",
      "description": "Track code indexing lineage in Marquez. Record which files were processed and when.",
      "parameters": {
        "type": "object",
        "properties": {
          "job_name": {
            "type": "string",
            "description": "Name of the indexing job"
          },
          "input_files": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of source files indexed"
          },
          "output_index": {
            "type": "string",
            "description": "Path to generated SCIP index"
          },
          "namespace": {
            "type": "string",
            "description": "Marquez namespace",
            "default": "ncode"
          }
        },
        "required": ["job_name", "input_files", "output_index"]
      },
      "endpoint": "http://localhost:5000/api/v1/jobs/runs",
      "method": "POST"
    },
    {
      "name": "memgraph_query_graph",
      "description": "Query code relationship graph using Cypher via MCP. Find dependencies, call relationships, and code structure in graph format.",
      "parameters": {
        "type": "object",
        "properties": {
          "cypher_query": {
            "type": "string",
            "description": "Cypher query to execute (e.g., 'MATCH (p:Project {name: \"shimmy-ai\"})-[:HAS_SYMBOL]->(s:Symbol) RETURN s.name')"
          }
        },
        "required": ["cypher_query"]
      },
      "protocol": "mcp",
      "mcp_server": "mcp-memgraph",
      "connection": {
        "uri": "bolt://ai_nucleus_memgraph:7687",
        "username": "",
        "password": ""
      }
    },
    {
      "name": "memgraph_create_graph_from_scip",
      "description": "Convert SCIP index to Memgraph graph structure using unstructured2graph from Memgraph AI Toolkit.",
      "parameters": {
        "type": "object",
        "properties": {
          "scip_index_path": {
            "type": "string",
            "description": "Path to SCIP index file"
          },
          "project_name": {
            "type": "string",
            "description": "Name of the project"
          }
        },
        "required": ["scip_index_path", "project_name"]
      },
      "protocol": "mcp",
      "mcp_server": "mcp-memgraph",
      "tool_name": "create_graph_from_data"
    },
    {
      "name": "qdrant_search_similar",
      "description": "Search for similar code symbols using vector embeddings. Find semantically related code across all projects.",
      "parameters": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "Text to search for (symbol name, code snippet, or description)"
          },
          "collection": {
            "type": "string",
            "description": "Qdrant collection to search in",
            "default": "code_symbols"
          },
          "limit": {
            "type": "integer",
            "description": "Number of similar results to return",
            "default": 5
          }
        },
        "required": ["text"]
      },
      "endpoint": "http://localhost:6333/collections/{collection}/points/search",
      "method": "POST"
    },
    {
      "name": "marquez_get_lineage",
      "description": "Get data lineage information to understand how data flows through transformations in the pipeline.",
      "parameters": {
        "type": "object",
        "properties": {
          "dataset_name": {
            "type": "string",
            "description": "Name of the dataset to get lineage for"
          }
        },
        "required": ["dataset_name"]
      },
      "endpoint": "http://localhost:5000/api/v1/lineage",
      "method": "GET"
    },
    {
      "name": "lean4_generate_specs",
      "description": "Generate Lean4 formal specifications from SCIP index. Creates type-safe, verifiable specifications.",
      "parameters": {
        "type": "object",
        "properties": {
          "scip_index_path": {
            "type": "string",
            "description": "Path to SCIP index file"
          },
          "project_name": {
            "type": "string",
            "description": "Name for the Lean4 project"
          },
          "generate_proofs": {
            "type": "boolean",
            "description": "Whether to generate correctness proofs",
            "default": false
          },
          "include_tests": {
            "type": "boolean",
            "description": "Whether to include test specifications",
            "default": true
          }
        },
        "required": ["scip_index_path", "project_name"]
      },
      "endpoint": "http://localhost:8009/generate-lean4",
      "method": "POST"
    },
    {
      "name": "n8n_generate_components",
      "description": "Generate n8n workflow components from Lean4 specifications. Creates ready-to-use n8n nodes.",
      "parameters": {
        "type": "object",
        "properties": {
          "lean4_file_path": {
            "type": "string",
            "description": "Path to Lean4 specification file"
          },
          "component_type": {
            "type": "string",
            "enum": ["custom", "trigger", "action"],
            "description": "Type of n8n component to generate",
            "default": "custom"
          },
          "generate_credentials": {
            "type": "boolean",
            "description": "Whether to generate credential configurations",
            "default": true
          }
        },
        "required": ["lean4_file_path"]
      },
      "endpoint": "http://localhost:8010/generate-n8n",
      "method": "POST"
    },
    {
      "name": "n8n_generate_workflow",
      "description": "Generate complete n8n workflow from Lean4 specifications with all nodes connected.",
      "parameters": {
        "type": "object",
        "properties": {
          "lean4_file_path": {
            "type": "string",
            "description": "Path to Lean4 specification file"
          },
          "workflow_name": {
            "type": "string",
            "description": "Name for the generated workflow"
          }
        },
        "required": ["lean4_file_path", "workflow_name"]
      },
      "endpoint": "http://localhost:8010/generate-workflow",
      "method": "POST"
    }
  ],
  "models": [
    {
      "name": "shimmy_local_inference",
      "description": "Local inference using Shimmy with Orchestrator-8B model",
      "endpoint": "http://localhost:11435/v1/chat/completions",
      "model": "nvidia/Orchestrator-8B",
      "type": "chat"
    },
    {
      "name": "embedding_service",
      "description": "Generate embeddings for code and text",
      "endpoint": "http://localhost:8007/embed",
      "type": "embedding"
    }
  ],
  "orchestrator_config": {
    "model": "nvidia/Orchestrator-8B",
    "base_url": "http://localhost:11435/v1",
    "max_iterations": 15,
    "enable_reasoning": true,
    "enable_tool_calling": true,
    "temperature": 0.7,
    "top_p": 0.9
  }
}
